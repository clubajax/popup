<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 5//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <title>Demo popup</title>
    <script src="../bower_components/dom/src/dom.js"></script>
    <script src="../bower_components/on/src/key-poly.js"></script>
    <script src="../bower_components/on/src/on.js"></script>
    <script src="../bower_components/fx/src/fx.js"></script>
    <script src="../src/popup.js"></script>
    <script src="../src/fade.js"></script>
    <script src="../src/wipe.js"></script>
    <script src="../src/trbl.js"></script>
    <script src="../src/drop.js"></script>
    <style>
        .red-box{
            border: 1px solid #999;
            background: red;
            padding: 10px;
            width: 100px;
            height: 100px;
        }
        .auto{
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Popup demo</h1>
    <button id="b1">drop down</button>
    <button>do nada</button>
    <script>
        var bigListHtml = '<div>list item A<br>list item B<br>list item C<br>list item A<br>list item B<br>list item C<br>list item A<br>list item B<br>list item C<br>list item A<br>list item B<br>list item C<br>list item A<br>list item B<br>list item C<br></div>';

        var controller = popup({
            input: dom.byId('b1'),
            auto: true,
            position: 'drop',
            openOn: 'click',
            closeDelay: 0,
            create: function () {
                var node = dom('div', {className: 'red-box auto', html: bigListHtml});
                on(node, 'click', function () {
                    setTimeout(function () {
                        controller.close();
                    }, 500);
                });
                return node;
            }
        });
    </script>
</body>
</html>